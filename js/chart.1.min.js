var asset=document.getElementById("assetID").innerHTML;function round(b,a){return parseFloat(b.toFixed(a))}if($.browser.msie){$(".download a").css("text-decoration","none")}var chart,color1,qTable,qPrice_1,qPrice_2,qPrice_3,qPrice_4,qResponseDataRow1,qResponseDataRow2,qResponseDataRow3,qResponseDataRow4;qTable="1dDMPAWx1pgXvOjRujkwGjuaRYNPHb3mN3MTHEIU";if(asset==="oil"){color1="black";$(".usd.colorchart").css("color",color1);qPrice_1="Oil_USD";qResponseDataRow1=2;qPrice_2="Oil_Gold";qResponseDataRow2=3;qPrice_3="Oil_Hours";qResponseDataRow4=4;qPrice_4="Oil_Silver";qResponseDataRow3=5}if(asset==="oranges"){color1="#55B96B";$(".usd.colorchart").css("color",color1);qPrice_1="Oranges_USD";qResponseDataRow1=6;qPrice_2="Oranges_Gold";qResponseDataRow2=7;qPrice_3="Oranges_Hours";qResponseDataRow4=8;qPrice_4="Oranges_Silver";qResponseDataRow3=9}if(asset==="chicken"){color1="#E05A6D";$(".usd.colorchart").css("color",color1);qPrice_1="Chicken_USD";qResponseDataRow1=10;qPrice_2="Chicken_Gold";qResponseDataRow2=11;qPrice_3="Chicken_Hours";qResponseDataRow4=12;qPrice_4="Chicken_Silver";qResponseDataRow3=13}if(asset==="wheat"){color1="#AA437C";$(".usd.colorchart").css("color",color1);qPrice_1="Wheat_USD";qResponseDataRow1=14;qPrice_2="Wheat_Gold";qResponseDataRow2=15;qPrice_3="Wheat_Hours";qResponseDataRow4=16;qPrice_4="Wheat_Silver";qResponseDataRow3=17}google.load("visualization","1",{packages:["annotatedtimeline"]});function drawChart(){var b="SELECT YMD,"+qPrice_1+","+qPrice_2+","+qPrice_3+","+qPrice_4+" FROM "+qTable;var a=encodeURIComponent(b);var c=new google.visualization.Query("http://www.google.com/fusiontables/gvizdata?tq="+a);c.send(function(d){chart=new google.visualization.AnnotatedTimeLine(document.getElementById("chart_div"));google.visualization.events.addListener(chart,"rangechange",handleRangeChange);google.visualization.events.addListener(chart,"ready",handleRangeChange);chart.draw(d.getDataTable(),{displayAnnotations:false,colors:[color1,"#F5B857","#1B6FAF","silver"],displayExactValues:false,displayDateBarSeparator:true,legendPosition:"sameRow",fill:0,thickness:1,allowRedraw:true,displayRangeSelector:true,displayZoomButtons:true})})}google.setOnLoadCallback(drawChart);function handleRangeChange(a){var d=chart.getVisibleChartRange();var m=d.start;var c=d.end;var b=((c-m)/86400000/365);var e=new google.visualization.DateFormat({pattern:"MM/yy"});var n=new google.visualization.DateFormat({pattern:"MMM yyyy"});var h=e.formatValue(m);var l=e.formatValue(c);var g=n.formatValue(m);var o=n.formatValue(c);var j="SELECT * FROM "+qTable+" WHERE Myyyy IN ('"+h+"','"+l+"')";var k=encodeURIComponent(j);var i=new google.visualization.Query("http://www.google.com/fusiontables/gvizdata?tq="+k);i.send(f);function f(t){if(t.isError()){alert("Error in query: "+t.getMessage()+" "+t.getDetailedMessage());return}var J=t.getDataTable();var B=J.getValue(0,0);var z=0;var y=1;if(h!==B){z=1;y=0}var x=round(J.getValue(z,qResponseDataRow1),2);var w=round(J.getValue(z,qResponseDataRow2),2);var v=round(J.getValue(z,qResponseDataRow3),2);var u=round(J.getValue(z,qResponseDataRow4),2);var q=round(J.getValue(y,qResponseDataRow1),2);var M=round(J.getValue(y,qResponseDataRow2),2);var K=round(J.getValue(y,qResponseDataRow3),2);var G=round(J.getValue(y,qResponseDataRow4),2);var r=round((q-x),2);var N=round((M-w),2);var I=round((K-v),2);var F=round((G-u),2);var s=round(((r/x)*100));var p=round(((N/w)*100));var L=round(((I/v)*100));var H=round(((F/u)*100));var E=round((s/b),2);var D=round((p/b),2);var C=round((L/b),2);var A=round((H/b),2);if(r>0){$(".arrowVar1").attr("src","img/arrow-price-up.png")}if(r<0){$(".arrowVar1").attr("src","img/arrow-price-down.png")}if(N>0){$(".arrowVar2").attr("src","img/arrow-price-up.png")}if(N<0){$(".arrowVar2").attr("src","img/arrow-price-down.png")}if(I>0){$(".arrowVar3").attr("src","img/arrow-price-up.png")}if(I<0){$(".arrowVar3").attr("src","img/arrow-price-down.png")}if(F>0){$(".arrowVar4").attr("src","img/arrow-price-up.png")}if(F<0){$(".arrowVar4").attr("src","img/arrow-price-down.png")}document.getElementById("priceStartVar1").innerHTML=x;document.getElementById("priceStartVar2").innerHTML=w;document.getElementById("priceStartVar3").innerHTML=v;document.getElementById("priceStartVar4").innerHTML=u;document.getElementById("priceEndVar1").innerHTML=q;document.getElementById("priceEndVar2").innerHTML=M;document.getElementById("priceEndVar3").innerHTML=K;document.getElementById("priceEndVar4").innerHTML=G;document.getElementById("absChangeVar1").innerHTML=r;document.getElementById("absChangeVar2").innerHTML=N;document.getElementById("absChangeVar3").innerHTML=I;document.getElementById("absChangeVar4").innerHTML=F;document.getElementById("pctChangeVar1").innerHTML=s;document.getElementById("pctChangeVar2").innerHTML=p;document.getElementById("pctChangeVar3").innerHTML=L;document.getElementById("pctChangeVar4").innerHTML=H;document.getElementById("avYearPctVar1").innerHTML=E;document.getElementById("avYearPctVar2").innerHTML=D;document.getElementById("avYearPctVar3").innerHTML=C;document.getElementById("avYearPctVar4").innerHTML=A}document.getElementById("date1").innerHTML=g;document.getElementById("date2").innerHTML=o}function handleButtonClick1(){if(document.getElementById("usd").checked){chart.showDataColumns(0)}else{chart.hideDataColumns(0)}}function handleButtonClick2(){if(document.getElementById("gold").checked){chart.showDataColumns(1)}else{chart.hideDataColumns(1)}}function handleButtonClick3(){if(document.getElementById("hours").checked){chart.showDataColumns(2)}else{chart.hideDataColumns(2)}}function handleButtonClick4(){if(document.getElementById("silver").checked){chart.showDataColumns(3)}else{chart.hideDataColumns(3)}}google.load("visualization","1",{packages:["corechart"]});function drawVisualization(){google.visualization.drawChart({containerId:"chart_div2",dataSourceUrl:"http://www.google.com/fusiontables/gvizdata?tq=",query:"SELECT YMD, "+qPrice_1+","+qPrice_2+","+qPrice_3+","+qPrice_4+" FROM 1dDMPAWx1pgXvOjRujkwGjuaRYNPHb3mN3MTHEIU",refreshInterval:5,chartType:"LineChart",options:{chartArea:{left:10,top:20,width:"100%",height:"90%"},colors:[color1,"#F5B857","#1B6FAF","silver"],legend:{position:"top",textStyle:{color:"black",fontSize:12},alignment:"end"},lineWidth:1,hAxis:{titleTextStyle:{color:"#FF0000"}},vAxis:{textPosition:"none"}}})}if($.browser.flash===false){google.setOnLoadCallback(drawVisualization);$(".buttons").hide();$("#kpi").hide();$("#chart_div").hide();$("#chart_div2").show();$("#alertflash").text("Ups! We noticed you don't have flash enabled - For the ubercool interactive charts, you need to install the Adobe Flash Player")};